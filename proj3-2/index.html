<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>  
    div.padded {  
      padding-top: 0px;  
      padding-right: 100px;  
      padding-bottom: 0.25in;  
      padding-left: 100px;  
    }  
  </style> 
<title>Your Name  |  CS 184</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>
<body>
<br />
<h1 align="middle">Assignment 3-2: Additional Features to PathTracer</h1>
    <h2 align="middle">Your Name</h2>
    <h2 align="middle">(Webpage URL)</h2>

    <div class="padded">

        
        * NOTE: For this project, you will choose TWO out of the four given parts to complete. One of those parts must be Part 1 or Part 2. In other words, you can choose any combination of two parts except the pair (Part 3, Part 4).


        <h3 align="middle">Part 1. Mirror and Glass Materials</h3>

        <p><b>
            Show a sequence of six images of scene `CBspheres.dae` rendered with `max_ray_depth` set to 0, 1, 2, 3, 4, 5, and 100. The other settings should be at least 64 samples per pixel and 4 samples per light. Make sure to include all screenshots.
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>
        <p><b>
            Point out the new multibounce effects that appear in each image. 
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>
        <p><b>
            Explain how these bounce numbers relate to the particular effects that appear. Make sure to include all screenshots.
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>


        <h3 align="middle">Part 2. Microfacet Material</h3>
        <p><b>
            Show a screenshot sequence of 4 images of scene `CBdragon_microfacet_au.dae` rendered with $\alpha$ set to 0.005, 0.05, 0.25 and 0.5. The other settings should be at least 128 samples per pixel and 1 samples per light. The number of bounces should be at least 5. Describe the differences between different images. Note that, to change the $\alpha$, just open the .dae file and search for `microfacet`.
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>
        <p><b>
            Show two images of scene `CBbunny_microfacet_cu.dae` rendered using cosine hemisphere sampling (default) and your importance sampling. The sampling rate should be fixed at 64 samples per pixel and 1 samples per light. The number of bounces should be at least 5. Briefly discuss their difference.
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>
        <p><b>
            Show at least one image with some other conductor material, replacing `eta` and `k`. Note that you should look up values for real data rather than modifying them arbitrarily. Tell us what kind of material your parameters correspond to. 
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>
        
        
        

        <h3 align="middle">Part 3. Environment Lightl</h3>
        <b>Pick one *.exr* file to use for all subparts here. Include a converted *.jpg* of it in your website so we know what map you are using.</b>
        
        <p><b>
            In a few sentences, explain the ideas behind environment lighting (i.e. why we do it/how it works).
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>
        <p><b>
            Show the *probability_debug.png* file for the *.exr* file you are using, generated using the `save_probability_debug()` helper function after initializing your probability distributions.
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>
        <p><b>
            Use the `bunny_unlit.dae` scene and your environment map *.exr* file and render two pictures, one with uniform sampling and one with importance sampling. Use 4 samples per pixel and 64 samples per light in each. Compare noise levels. Make sure to include all screenshots.
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>
        <p><b>
            Use a different image (if you did part 2, we recommend `bunny_microfacet_cu_unlit.dae`) and your environment map *.exr* file and render two pictures, one with uniform sampling and one with importance sampling. Use 4 samples per pixel and 64 samples per light in each. Compare noise levels. Make sure to include all screenshots.
        </b></p>
        <p>
            Your response goes here.
        </p>
        <br>



        <h3 align="middle">Part 4. Depth of Field</h3>
        <b>
            For these subparts, we recommend using a microfacet BSDF scene to show off the cool out of focus effects you can get with depth of field!
        </b>
        <p><b>
            In a few sentences, explain the differences between a pinhole camera model and a thin-lens camera model. 
        </b></p>
        <p>
          With a pinhole camera, each pixel on the rendered image is generated from a single ray. Since only one ray can affect the appearance of a single pixel,
          every pixel only "sees" one location in the scene, and thus the rendered image is completely in-focus. No pixel is "out of focus".
          <br />
          However, with a thin-lens camera model, a pixel on the rendered image is generated from potentially multiple rays. Since a ray from the scene
          onto the lens is "bent," a given pixel may be a combination of two rays, likely with different directions. This gives it the "out of focus" blur effect
          for pixels whose distance from the camera in the scene is far away from the focus distance.
          
        </p>
        <br>
        <p><b>
            Show a "focus stack" where you focus at 4 visibly different depths through a scene. Make sure to include all screenshots.
        </b></p>
        <p>
          The bright points in this image have a bokeh effect the further they are from the focus distance.
          In the render with the focus distance set to the back wall, the bright spot near the dragon's chin is the blurriest, since out of all 4
          images, it is the furthest away from the focus distance. The effect can be noticed gradually along the edges between the side walls and the floor / ceiling.
          The closer a point on the edge is to the focus distance, the sharper the edge is, and the further a point on the edge is from the focus distance, the blurrier the edge is.
        </p>
        <div>
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/CBdragon_prod.png" align="middle" width="400px"/>
        <figcaption>Focus at 4.5 units (default)</figcaption>
      </td>
      <td>
        <img src="images/CBdragon_prod_focus_tail.png" align="middle" width="400px"/>
        <figcaption>Focus at 5.06847 units (tail)</figcaption>
      </td>
    </tr>
    <tr align="center">
      <td>
        <img src="images/CBdragon_prod_focus_fg.png" align="middle" width="400px"/>
        <figcaption>Focus at 3.9918 units (front edge)</figcaption>
      </td>
      <td>
        <img src="images/CBdragon_prod_focus_bg.png" align="middle" width="400px"/>
        <figcaption>Focus at 5.84153 units (back wall)</figcaption>
      </td>
    </tr>
  </table>
        </div>
        <br>
        <p><b>
            Show a sequence of 4 pictures with visibly different aperture sizes, all focused at the same point in a scene. Make sure to include all screenshots.
        </b></p>
        <p>
          The aperture size is the radius of the image, and determines the size of the sampling space for the thin lens.
          With a larger aperture size, the bokeh effect is larger when the focus distance is fixed.
          In all four images, the focus distance is fixed, but the aperture size increases progressively.
          When the aperture size is 0, nothing is out of focus because any ray that doesn't pass through the center of the lens (and potentially
          casting radiance onto another pixel) is effectively blocked. (In implementation, we don't bother casting such rays when the aperture is 0.)
          Note that the blurriness is dirrectly correlated with both the focus distance and the aperture size; even with the largest aperture size of 1,
          the pixels at the focus distance are sharp. This effect is noticeable along the edges of the size walls and the floor / ceiling, where the point
          at the focus distance is sharper than the surrounding pixels.
          Finally, we also notice that the edges of the Cornel box itself against the black background also becomes progressively blurrier with larger aperture sizes.
        </p>

            <div>

  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/CBdragon_prod_aperture_0.png" align="middle" width="400px"/>
        <figcaption>0 aperture (pinhole)</figcaption>
      </td>
      <td>
        <img src="images/CBdragon_prod_aperture_0.25.png" align="middle" width="400px"/>
        <figcaption>0.25 aperture</figcaption>
      </td>
    </tr>
    <tr align="center">
      <td>
        <img src="images/CBdragon_prod_aperture_0.5.png" align="middle" width="400px"/>
        <figcaption>0.5 aperture</figcaption>
      </td>
      <td>
        <img src="images/CBdragon_prod_aperture_1.png" align="middle" width="400px"/>
        <figcaption>1 aperture</figcaption>
      </td>
    </tr>
  </table>
            </div>
        <br>

    </div>
</body>
</html>

